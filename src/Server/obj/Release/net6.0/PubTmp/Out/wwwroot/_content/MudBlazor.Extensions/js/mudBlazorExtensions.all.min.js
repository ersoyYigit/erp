class MudExColorHelper{static argbToHex(n){return"#"+("000000"+(n&16777215).toString(16)).slice(-6)}static hexToArgb(n){return parseInt(n.replace("#","FF"),16)<<32}static hexToHsl(n){return this.rgbToHsl(this.hexToRgb(n))}static hslToHex(n){return this.rgbToHex(this.hslToRgb(n))}static setLuminance(n,t){if(!n)return n;var i=this.rgbToHsl(this.hexToRgb(n));return i.l=Math.max(Math.min(1,t),0),this.rgbToHex(this.hslToRgb(i))}static hexToRgb(n){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}static rgbIntToHex(n){let t=Number(n).toString(16);return t.length<6&&(t="000000".substring(t.length)+t),t}static hslToRgb(n){const e=n.h,r=n.s,t=n.l;let u,o,s,h,f,i;return r===0?o=s=h=t:(u=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},i=t<.5?t*(1+r):t+r-t*r,f=2*t-i,o=u(f,i,e+1/3),s=u(f,i,e),h=u(f,i,e-1/3)),{r:MudExNumber.constrain(Math.round(o*255),0,255),g:MudExNumber.constrain(Math.round(s*255),0,255),b:MudExNumber.constrain(Math.round(h*255),0,255)}}static rgbToHsl(n){if(!n)return n;const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),o=Math.min(e,t,i),h=(r+o)/2;let u,s,f;if(r===o)u=s=0;else{f=r-o;s=h>.5?f/(2-r-o):f/(r+o);switch(r){case e:u=(t-i)/f+(t<i?6:0);break;case t:u=(i-e)/f+2;break;case i:u=(e-t)/f+4}u/=6}return{h:u,s:s,l:h}}static rgbToHex(n){const t=function(n){const t=n.toString(16);return t.length===1?"0"+t:t};return"#"+t(n.r)+t(n.g)+t(n.b)}static getOptimalForegroundColor(n,t,i){return this.perceivedBrightness(n)>190?i||"#000000":t||"#FFFFFF"}static perceivedBrightness(n){return n?(typeof n!="object"&&(n=this.hexToRgb(n)),Math.sqrt(n.r*n.r*.241+n.g*n.g*.691+n.b*n.b*.068)):0}}window.MudExColorHelper=MudExColorHelper;class MudExDomHelper{dom;constructor(n){this.dom=n}_asArray(n){return Array.isArray(n)?n:[n]}down(n){var t=this.dom.querySelector(n);return t?new MudExDomHelper(t):null}isVisible(n){var i,r,e,t,o;if(!n)return this.dom.style.display!=="none"&&this.dom.style.visibility!=="hidden";if(i=this.dom,i.offsetWidth===0||i.offsetHeight===0)return!1;var u=document.documentElement.clientHeight,f=i.getClientRects(),s=function(n){var t=(n.left+n.right)/2,r=(n.top+n.bottom)/2;return document.elementFromPoint(t,r)===i};for(r=0,e=f.length;r<e;r++)if(t=f[r],o=t.top>0?t.top<=u:t.bottom>0&&t.bottom<=u,o&&s(t))return!0;return!1}setStyle(n){return Object.assign(this.dom.style,n),this}getStyleValue(n){return this.dom.style.getPropertyValue(n)}addCls(n){return this._asArray(n).forEach(n=>this.dom.classList.add(n)),this}removeCls(n){return this._asArray(n).forEach(n=>this.dom.classList.remove(n)),this}toggleCls(n){return this._asArray(n).forEach(n=>{this.dom.classList.contains(n)?this.removeCls(n):this.addCls(n)}),this}show(){return this.dom.style.display="",this}hide(){return this.dom.style.display="none",this}getBounds(){return this.dom.getBoundingClientRect()}getWidth(){return this.getBounds().width}getHeight(){return this.getBounds().height}getX(){return this.getXY()[0]}getY(){return this.getXY()[1]}getXY(){var r=Math.round,u=document.body,n=this.dom,f=0,e=0,t,i;if(n!==document&&n!==u)try{t=u.getBoundingClientRect();i=n.getBoundingClientRect();f=i.left-t.left;e=i.top-t.top}catch(o){}return[r(f),r(e)]}}window.MudExDomHelper=MudExDomHelper;class MudExEventHelper{static isWithin(n,t){if(!t||!n)return!1;let i=t.getBoundingClientRect();return n.clientX>i.left&&n.clientX<i.right&&n.clientY<i.bottom&&n.clientY>i.top}}window.MudExEventHelper=MudExEventHelper;class MudExNumber{static constrain(n,t,i){var r=parseFloat(n);return t===null&&(t=n),i===null&&(i=n),r<t?t:r>i?i:r}}window.MudExNumber=MudExNumber;class MudBlazorExtensionHelper{mudDialogSelector;mudDialogHeaderSelector;onDone;observer;options;dialog;dotnet;constructor(n,t,i){this.dotnet=t;this.onDone=i;this.options=n;this.mudDialogSelector=n.mudDialogSelector||".mud-dialog:not([data-mud-extended=true])";this.mudDialogHeaderSelector=n.mudDialogHeaderSelector||".mud-dialog-title";this.dialog=document.querySelector(this.mudDialogSelector);this.dialogHeader=this.dialog.querySelector(this.mudDialogHeaderSelector)}findDialog(){return Array.from(document.querySelectorAll(this.mudDialogSelector)).filter(n=>!n.__extended)[0]}init(){this.dialog=this.dialog||this.findDialog();this.dialog?this.handleExtensions():(this.observer=new MutationObserver(n=>{var t=n.filter(n=>n.addedNodes&&n.addedNodes[0]===this.findDialog());t.length&&(this.dialog=t[0].addedNodes[0],this.observer.disconnect(),this.handleExtensions())}),this.observer.observe(document,{characterData:!0,childList:!0,subtree:!0}))}handleExtensions(){var i,t,n;this.dialog.__extended=!0;this.dialog.setAttribute("data-mud-extended",!0);this.options.showAtCursor&&this.moveElementToMousePosition(this.dialog);setTimeout(()=>this.dialog.classList.remove("mud-ex-dialog-initial"),50);this.options.animations!=null&&Array.isArray(this.options.animations)&&this.options.animations.length&&this.animate(this.options.animationDescriptions);this.options.disablePositionMargin&&this.dialog.classList.add("mud-dialog-position-fixed");this.options.fullHeight&&(i=this.options.disableSizeMarginY?"mud-dialog-height-full-no-margin":"mud-dialog-height-full",this.dialog.classList.add(i),t=this.dialog.querySelector(".mud-dialog-actions"),t&&t.classList.add("mud-dialog-actions-fixed-bottom"));this.options.fullWidth&&this.options.disableSizeMarginX&&(this.dialog.classList.remove("mud-dialog-width-full"),this.dialog.classList.add("mud-dialog-width-full-no-margin"),this.dialog.classList.contains("mud-dialog-width-false")&&this.dialog.classList.remove("mud-dialog-width-false"));this.options.buttons&&this.options.buttons.length&&(n=document.createElement("div"),n.classList.add("mud-ex-dialog-header-actions"),this.options.closeButton||(n.style.right="8px"),this.dialogHeader&&(n=this.dialogHeader.insertAdjacentElement("beforeend",n)),this.options.buttons.reverse().forEach(t=>{if(n){n.insertAdjacentHTML("beforeend",t.html);var i=n.querySelector("#"+t.id);i.onclick=()=>{t.id.indexOf("mud-button-maximize")>=0&&this.maximize(),t.id.indexOf("mud-button-minimize")>=0?this.minimize():t.callBackReference.invokeMethodAsync(t.callbackName)}}}));this.options.modal===!1&&(this.dialog.parentElement.querySelector(".mud-overlay").style.display="none",setTimeout(()=>{this.makeDialogAbsolute(),this.dialog.parentElement.style.height="0"},this.options.animationDurationInMs+50));this.options.dragMode!==0&&this.dialog&&(this.dragElement(this.dialog,this.dialogHeader,document.body,this.options.dragMode===2),this.done());this.checkResizeable()}minimize(){let n=document.querySelector(`.mud-ex-task-bar-item-for-${this.dialog.id}`);this.moveToElement(n)}moveToElement(n){var t=n.getBoundingClientRect();this.dialog.style.height=n.style.height;this.dialog.style.width=n.style.width;this.dialog.style.left=t.left+"px";this.dialog.style.top=t.top+"px"}makeDialogAbsolute(){this.dialog.style.position="absolute";var n=this.dialog.getBoundingClientRect();this.dialog.style.left=n.left+"px";this.dialog.style.top=n.top+"px"}moveElementToMousePosition(n){var u=MudBlazorExtensions.getCurrentMousePosition(),i=u.clientX,r=u.clientY,t=this.options.cursorPositionOriginName.split("-"),f=this.options.maxWidth===6||this.options.maxWidth===4;this.options.fullWidth&&f||(t[1]==="left"?n.style.left=i+"px":t[1]==="right"?n.style.left=i-n.offsetWidth+"px":t[1]==="center"&&(n.style.left=i-n.offsetWidth/2+"px"));this.options.fullHeight||(t[0]==="top"?n.style.top=r+"px":t[0]==="bottom"?n.style.top=r-n.offsetHeight+"px":t[0]==="center"&&(n.style.top=r-n.offsetHeight/2+"px"));this.ensureElementIsInScreenBounds(n)}ensureElementIsInScreenBounds(n){var t=n.getBoundingClientRect(),r=t.width===0&&t.height===0,i;if(r){const t=new ResizeObserver(()=>{t.disconnect(),this.ensureElementIsInScreenBounds(n)});t.observe(n);return}if(i=!!n.getAnimations().length,i){n.addEventListener("animationend",()=>this.ensureElementIsInScreenBounds(n),{once:!0});return}t.left<0&&(n.style.left="0px");t.top<0&&(n.style.top="0px");t.right>window.innerWidth&&(n.style.left=window.innerWidth-n.offsetWidth+"px");t.bottom>window.innerHeight&&(n.style.top=window.innerHeight-n.offsetHeight+"px")}checkResizeable(){this.dialog.style.position="absolute";this.options.resizeable&&(this.dialog.style.resize="both",this.dialog.style.overflow="auto",this.dialog.style.maxWidth=window.innerWidth+"px",this.dialog.style.maxHeight=window.innerHeight+"px",this.dialog.style.minWidth="100px",this.dialog.style.minHeight="100px")}maximize(){this._oldStyle?(this.dialog.style=this._oldStyle,delete this._oldStyle):(this._oldStyle=this.dialog.style,this.dialog.style.position="absolute",this.dialog.style.left="0",this.dialog.style.top="0",this.dialog.style.maxWidth=this.dialog.style.width=window.innerWidth+"px",this.dialog.style.maxHeight=this.dialog.style.height=window.innerHeight+"px");this.checkResizeable()}done(){this.observer&&this.observer.disconnect();this.onDone&&this.onDone()}dragElement(n,t,i,r){function s(n){n=n||window.event;n.preventDefault();u=n.clientX;f=n.clientY;document.onmouseup=c;document.onmousemove=h}function h(t){t=t||window.event;t.preventDefault();e=u-t.clientX;o=f-t.clientY;u=t.clientX;f=t.clientY;var c={x:i.offsetWidth-n.offsetWidth,y:(i===document.body?window.innerHeight:i.offsetHeight)-n.offsetHeight},s=n.offsetTop-o,h=n.offsetLeft-e;n.style.position="absolute";(r||h>0&&h<c.x)&&(n.style.left=h+"px");(r||s>0&&s<c.y)&&(n.style.top=s+"px");e=u-t.clientX;o=f-t.clientY;u=t.clientX;f=t.clientY}function c(){document.onmouseup=null;document.onmousemove=null}var e=0,o=0,u=0,f=0;i=i||document.body;t?(t.style.cursor="move",t.onmousedown=s):n.onmousedown=s}animate(){this.dialog.style.animation=`${this.options.animationStyle}`}}window.MudBlazorExtensionHelper=MudBlazorExtensionHelper;window.MudBlazorExtensions={helper:null,currentMouseArgs:null,__bindEvents:function(){var n=function(n){window.MudBlazorExtensions.currentMouseArgs=n};document.addEventListener("mousemove",n,!1);document.addEventListener("mouseenter",n,!1)},getCurrentMousePosition:function(){return window.MudBlazorExtensions.currentMouseArgs},setNextDialogOptions:function(n,t){new MudBlazorExtensionHelper(n,t,()=>{MudBlazorExtensions.helper=null,delete MudBlazorExtensions.helper}).init()},addCss:function(n){var i=n,r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");r.appendChild(t);t.type="text/css";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))},downloadFile(n){var t=n.url||"data:"+n.mimeType+";base64,"+n.base64String;fetch(t).then(n=>n.blob()).then(t=>{var i=window.document.createElement("a");i.href=window.URL.createObjectURL(t);i.download=n.fileName;document.body.appendChild(i);i.click();document.body.removeChild(i)})},attachDialog(n){if(n){let t=document.getElementById(n);if(t){let n=t.querySelector(".mud-dialog-title"),i=n?n.querySelector("svg"):null;return{title:n?n.innerText:"Unnamed window",icon:i?i.innerHTML:""}}}return null}};window.MudBlazorExtensions.__bindEvents();